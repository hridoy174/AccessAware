document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("enableNotifications");chrome.storage.local.get("notificationsEnabled",(function(t){e.checked=!1!==t.notificationsEnabled})),document.getElementById("saveOptions").addEventListener("click",(function(){chrome.storage.local.set({notificationsEnabled:e.checked},(function(){alert("âœ… Settings saved!")}))}));var t=document.getElementById("trusted-site-input"),n=document.getElementById("add-trusted-site"),o=document.getElementById("trusted-sites-list"),c=document.getElementById("blocked-site-input"),i=document.getElementById("add-blocked-site"),d=document.getElementById("blocked-sites-list");function s(){chrome.storage.local.get(["trustedSites","blockedSites"],(function(e){var t=e.trustedSites||[],n=e.blockedSites||[];o.innerHTML="",t.forEach((function(e){var t=document.createElement("li");t.textContent=e;var n=document.createElement("button");n.textContent="Remove",n.classList.add("remove-btn"),n.onclick=function(){return function(e){chrome.storage.local.get({trustedSites:[]},(function(t){var n=t.trustedSites.filter((function(t){return t!==e}));chrome.storage.local.set({trustedSites:n},s)}))}(e)},t.appendChild(n),o.appendChild(t)})),d.innerHTML="",n.forEach((function(e){var t=document.createElement("li");t.textContent=e;var n=document.createElement("button");n.textContent="Remove",n.classList.add("remove-btn"),n.onclick=function(){return function(e){chrome.storage.local.get({blockedSites:[]},(function(t){var n=t.blockedSites.filter((function(t){return t!==e}));chrome.storage.local.set({blockedSites:n},s)}))}(e)},t.appendChild(n),d.appendChild(t)}))}))}n&&n.addEventListener("click",(function(){var e=t.value.trim();e&&chrome.storage.local.get({trustedSites:[]},(function(n){var o=n.trustedSites;o.includes(e)||(o.push(e),chrome.storage.local.set({trustedSites:o},(function(){t.value="",s()})))}))})),i&&i.addEventListener("click",(function(){var e=c.value.trim();e&&chrome.storage.local.get({blockedSites:[]},(function(t){var n=t.blockedSites;n.includes(e)||(n.push(e),chrome.storage.local.set({blockedSites:n},(function(){c.value="",s()})))}))})),s()}));